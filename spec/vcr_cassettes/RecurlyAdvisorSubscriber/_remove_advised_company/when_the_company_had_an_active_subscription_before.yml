--- 
http_interactions: 
- request: 
    method: post
    uri: https://dd9e07b6afb84b0e8e31fefc56126c6e:@api.recurly.com/v2/subscriptions
    body: 
      encoding: US-ASCII
      string: <subscription><account><account_code>company-id@recurly</account_code><billing_info><month>1</month><number>4111-1111-1111-1111</number><year>2014</year></billing_info><email>user@example.com</email><first_name>Admin</first_name><last_name>Adminowski</last_name></account><currency>USD</currency><plan_code>annual</plan_code></subscription>
    headers: 
      Accept: 
      - application/xml
      User-Agent: 
      - Recurly/2.1.5; ruby 1.9.3p194 (2012-04-20 revision 35410) [x86_64-linux]
      Content-Type: 
      - application/xml
  response: 
    status: 
      code: 201
      message: Created
    headers: 
      Server: 
      - blackhole
      Date: 
      - Sun, 30 Sep 2012 18:45:04 GMT
      Content-Type: 
      - application/xml; charset=utf-8
      Transfer-Encoding: 
      - chunked
      Connection: 
      - close
      Content-Language: 
      - en-US
      Etag: 
      - "\"276942d2682c3d62084c4ae4e918b5f3\""
      Location: 
      - https://api.recurly.com/v2/subscriptions/1b874a34d284e11ba1b0204679864c57
      Cache-Control: 
      - max-age=0, private, must-revalidate
      X-Runtime: 
      - "0.390759"
    body: 
      encoding: US-ASCII
      string: |
        <?xml version="1.0" encoding="UTF-8"?>
        <subscription href="https://api.recurly.com/v2/subscriptions/1b874a34d284e11ba1b0204679864c57">
          <account href="https://api.recurly.com/v2/accounts/company-id@recurly"/>
          <plan href="https://api.recurly.com/v2/plans/annual">
            <plan_code>annual</plan_code>
            <name>Activecell Annual</name>
          </plan>
          <uuid>1b874a34d284e11ba1b0204679864c57</uuid>
          <state>active</state>
          <unit_amount_in_cents type="integer">59988</unit_amount_in_cents>
          <currency>USD</currency>
          <quantity type="integer">1</quantity>
          <activated_at type="datetime">2012-09-30T18:45:04Z</activated_at>
          <canceled_at nil="nil"></canceled_at>
          <expires_at nil="nil"></expires_at>
          <total_billing_cycles nil="nil"></total_billing_cycles>
          <remaining_billing_cycles nil="nil"></remaining_billing_cycles>
          <current_period_started_at type="datetime">2012-09-30T18:45:04Z</current_period_started_at>
          <current_period_ends_at type="datetime">2012-10-30T18:45:04Z</current_period_ends_at>
          <trial_started_at type="datetime">2012-09-30T18:45:04Z</trial_started_at>
          <trial_ends_at type="datetime">2012-10-30T18:45:04Z</trial_ends_at>
          <subscription_add_ons type="array">
          </subscription_add_ons>
          <a name="cancel" href="https://api.recurly.com/v2/subscriptions/1b874a34d284e11ba1b0204679864c57/cancel" method="put"/>
          <a name="terminate" href="https://api.recurly.com/v2/subscriptions/1b874a34d284e11ba1b0204679864c57/terminate" method="put"/>
          <a name="postpone" href="https://api.recurly.com/v2/subscriptions/1b874a34d284e11ba1b0204679864c57/postpone" method="put"/>
        </subscription>

    http_version: 
  recorded_at: Sun, 30 Sep 2012 18:45:05 GMT
- request: 
    method: get
    uri: https://dd9e07b6afb84b0e8e31fefc56126c6e:@api.recurly.com/v2/plans/annual
    body: 
      encoding: US-ASCII
      string: ""
    headers: 
      Accept: 
      - application/xml
      User-Agent: 
      - Recurly/2.1.5; ruby 1.9.3p194 (2012-04-20 revision 35410) [x86_64-linux]
  response: 
    status: 
      code: 200
      message: OK
    headers: 
      Server: 
      - blackhole
      Date: 
      - Sun, 30 Sep 2012 18:45:05 GMT
      Content-Type: 
      - application/xml; charset=utf-8
      Transfer-Encoding: 
      - chunked
      Connection: 
      - close
      Content-Language: 
      - en-US
      Etag: 
      - "\"5cf4d812bf82b7faefde0184266258b7\""
      Cache-Control: 
      - max-age=0, private, must-revalidate
      X-Runtime: 
      - "0.026523"
      Strict-Transport-Security: 
      - max-age=15768000
    body: 
      encoding: US-ASCII
      string: |
        <?xml version="1.0" encoding="UTF-8"?>
        <plan href="https://api.recurly.com/v2/plans/annual">
          <add_ons href="https://api.recurly.com/v2/plans/annual/add_ons"/>
          <plan_code>annual</plan_code>
          <name>Activecell Annual</name>
          <description nil="nil"></description>
          <success_url nil="nil"></success_url>
          <cancel_url nil="nil"></cancel_url>
          <display_donation_amounts type="boolean">false</display_donation_amounts>
          <display_quantity type="boolean">false</display_quantity>
          <display_phone_number type="boolean">false</display_phone_number>
          <bypass_hosted_confirmation type="boolean">false</bypass_hosted_confirmation>
          <unit_name>unit</unit_name>
          <payment_page_tos_link nil="nil"></payment_page_tos_link>
          <plan_interval_length type="integer">12</plan_interval_length>
          <plan_interval_unit>months</plan_interval_unit>
          <trial_interval_length type="integer">0</trial_interval_length>
          <trial_interval_unit>days</trial_interval_unit>
          <total_billing_cycles nil="nil"></total_billing_cycles>
          <accounting_code nil="nil"></accounting_code>
          <created_at type="datetime">2012-05-25T20:37:43Z</created_at>
          <unit_amount_in_cents>
            <USD type="integer">59988</USD>
          </unit_amount_in_cents>
          <setup_fee_in_cents>
            <USD type="integer">0</USD>
          </setup_fee_in_cents>
        </plan>

    http_version: 
  recorded_at: Sun, 30 Sep 2012 18:45:06 GMT
- request: 
    method: put
    uri: https://dd9e07b6afb84b0e8e31fefc56126c6e:@api.recurly.com/v2/subscriptions/1b874a34d284e11ba1b0204679864c57/terminate?refund=full
    body: 
      encoding: US-ASCII
      string: ""
    headers: 
      Accept: 
      - application/xml
      User-Agent: 
      - Recurly/2.1.5; ruby 1.9.3p194 (2012-04-20 revision 35410) [x86_64-linux]
      Content-Type: 
      - application/xml
  response: 
    status: 
      code: 400
      message: Bad Request
    headers: 
      Server: 
      - blackhole
      Date: 
      - Sun, 30 Sep 2012 18:45:06 GMT
      Content-Type: 
      - application/xml; charset=utf-8
      Transfer-Encoding: 
      - chunked
      Connection: 
      - close
      Content-Language: 
      - en-US
      Cache-Control: 
      - no-cache
      X-Runtime: 
      - "0.033200"
    body: 
      encoding: US-ASCII
      string: |
        <?xml version="1.0" encoding="UTF-8"?>
        <error>
          <symbol>invalid_transaction</symbol>
          <description>The transaction cannot be refunded. Please contact support.</description>
        </error>

    http_version: 
  recorded_at: Sun, 30 Sep 2012 18:45:07 GMT
- request: 
    method: put
    uri: https://dd9e07b6afb84b0e8e31fefc56126c6e:@api.recurly.com/v2/subscriptions/1b874a34d284e11ba1b0204679864c57/terminate?refund=none
    body: 
      encoding: US-ASCII
      string: ""
    headers: 
      Accept: 
      - application/xml
      User-Agent: 
      - Recurly/2.1.5; ruby 1.9.3p194 (2012-04-20 revision 35410) [x86_64-linux]
      Content-Type: 
      - application/xml
  response: 
    status: 
      code: 200
      message: OK
    headers: 
      Server: 
      - blackhole
      Date: 
      - Sun, 30 Sep 2012 18:45:08 GMT
      Content-Type: 
      - application/xml; charset=utf-8
      Transfer-Encoding: 
      - chunked
      Connection: 
      - close
      Content-Language: 
      - en-US
      Etag: 
      - "\"cb060c77211771f8d32db12fef7c8c72\""
      Location: 
      - https://api.recurly.com/v2/subscriptions/1b874a34d284e11ba1b0204679864c57
      Cache-Control: 
      - max-age=0, private, must-revalidate
      X-Runtime: 
      - "0.124080"
      Strict-Transport-Security: 
      - max-age=15768000
    body: 
      encoding: US-ASCII
      string: |
        <?xml version="1.0" encoding="UTF-8"?>
        <subscription href="https://api.recurly.com/v2/subscriptions/1b874a34d284e11ba1b0204679864c57">
          <account href="https://api.recurly.com/v2/accounts/company-id@recurly"/>
          <plan href="https://api.recurly.com/v2/plans/annual">
            <plan_code>annual</plan_code>
            <name>Activecell Annual</name>
          </plan>
          <uuid>1b874a34d284e11ba1b0204679864c57</uuid>
          <state>expired</state>
          <unit_amount_in_cents type="integer">59988</unit_amount_in_cents>
          <currency>USD</currency>
          <quantity type="integer">1</quantity>
          <activated_at type="datetime">2012-09-30T18:45:04Z</activated_at>
          <canceled_at type="datetime">2012-09-30T18:45:07Z</canceled_at>
          <expires_at type="datetime">2012-09-30T18:45:07Z</expires_at>
          <total_billing_cycles nil="nil"></total_billing_cycles>
          <remaining_billing_cycles nil="nil"></remaining_billing_cycles>
          <current_period_started_at type="datetime">2012-09-30T18:45:04Z</current_period_started_at>
          <current_period_ends_at type="datetime">2012-10-30T18:45:04Z</current_period_ends_at>
          <trial_started_at type="datetime">2012-09-30T18:45:04Z</trial_started_at>
          <trial_ends_at type="datetime">2012-10-30T18:45:04Z</trial_ends_at>
          <subscription_add_ons type="array">
          </subscription_add_ons>
        </subscription>

    http_version: 
  recorded_at: Sun, 30 Sep 2012 18:45:08 GMT
- request: 
    method: put
    uri: https://dd9e07b6afb84b0e8e31fefc56126c6e:@api.recurly.com/v2/subscriptions/1b874a29ca8514e0baa70141eba60aea
    body: 
      encoding: US-ASCII
      string: <subscription><plan_code>annual</plan_code><subscription_add_ons><subscription_add_on><add_on_code>advised_company</add_on_code><quantity>1</quantity></subscription_add_on></subscription_add_ons><timeframe>now</timeframe></subscription>
    headers: 
      Accept: 
      - application/xml
      User-Agent: 
      - Recurly/2.1.5; ruby 1.9.3p194 (2012-04-20 revision 35410) [x86_64-linux]
      Content-Type: 
      - application/xml
  response: 
    status: 
      code: 200
      message: OK
    headers: 
      Server: 
      - blackhole
      Date: 
      - Sun, 30 Sep 2012 18:45:10 GMT
      Content-Type: 
      - application/xml; charset=utf-8
      Transfer-Encoding: 
      - chunked
      Connection: 
      - close
      Content-Language: 
      - en-US
      Etag: 
      - "\"c9809b60c3d988f69b1f8189c10f9026\""
      Location: 
      - https://api.recurly.com/v2/subscriptions/1b874a29ca8514e0baa70141eba60aea
      Cache-Control: 
      - max-age=0, private, must-revalidate
      X-Runtime: 
      - "0.651757"
      Strict-Transport-Security: 
      - max-age=15768000
    body: 
      encoding: US-ASCII
      string: |
        <?xml version="1.0" encoding="UTF-8"?>
        <subscription href="https://api.recurly.com/v2/subscriptions/1b874a29ca8514e0baa70141eba60aea">
          <account href="https://api.recurly.com/v2/accounts/advisor-company-id@recurly"/>
          <plan href="https://api.recurly.com/v2/plans/annual">
            <plan_code>annual</plan_code>
            <name>Activecell Annual</name>
          </plan>
          <uuid>1b874a29ca8514e0baa70141eba60aea</uuid>
          <state>active</state>
          <unit_amount_in_cents type="integer">59988</unit_amount_in_cents>
          <currency>USD</currency>
          <quantity type="integer">1</quantity>
          <activated_at type="datetime">2012-09-30T18:45:01Z</activated_at>
          <canceled_at nil="nil"></canceled_at>
          <expires_at nil="nil"></expires_at>
          <total_billing_cycles nil="nil"></total_billing_cycles>
          <remaining_billing_cycles nil="nil"></remaining_billing_cycles>
          <current_period_started_at type="datetime">2012-09-30T18:45:01Z</current_period_started_at>
          <current_period_ends_at type="datetime">2012-10-30T19:45:01Z</current_period_ends_at>
          <trial_started_at type="datetime">2012-09-30T18:45:01Z</trial_started_at>
          <trial_ends_at type="datetime">2012-10-30T19:45:01Z</trial_ends_at>
          <subscription_add_ons type="array">
            <subscription_add_on>
              <add_on_code>advised_company</add_on_code>
              <unit_amount_in_cents type="integer">3999</unit_amount_in_cents>
              <quantity type="integer">1</quantity>
            </subscription_add_on>
          </subscription_add_ons>
          <a name="cancel" href="https://api.recurly.com/v2/subscriptions/1b874a29ca8514e0baa70141eba60aea/cancel" method="put"/>
          <a name="terminate" href="https://api.recurly.com/v2/subscriptions/1b874a29ca8514e0baa70141eba60aea/terminate" method="put"/>
          <a name="postpone" href="https://api.recurly.com/v2/subscriptions/1b874a29ca8514e0baa70141eba60aea/postpone" method="put"/>
        </subscription>

    http_version: 
  recorded_at: Sun, 30 Sep 2012 18:45:10 GMT
- request: 
    method: post
    uri: https://dd9e07b6afb84b0e8e31fefc56126c6e:@api.recurly.com/v2/subscriptions
    body: 
      encoding: US-ASCII
      string: <subscription><account><account_code>company-id@recurly</account_code></account><currency>USD</currency><plan_code>annual</plan_code></subscription>
    headers: 
      Accept: 
      - application/xml
      User-Agent: 
      - Recurly/2.1.5; ruby 1.9.3p194 (2012-04-20 revision 35410) [x86_64-linux]
      Content-Type: 
      - application/xml
  response: 
    status: 
      code: 201
      message: Created
    headers: 
      Server: 
      - blackhole
      Date: 
      - Sun, 30 Sep 2012 18:45:11 GMT
      Content-Type: 
      - application/xml; charset=utf-8
      Transfer-Encoding: 
      - chunked
      Connection: 
      - close
      Content-Language: 
      - en-US
      Etag: 
      - "\"4512c4fea7d76f5bbd67b948bde281c7\""
      Location: 
      - https://api.recurly.com/v2/subscriptions/1b874a510411af9dd6913a46e8ac43bc
      Cache-Control: 
      - max-age=0, private, must-revalidate
      X-Runtime: 
      - "0.285425"
    body: 
      encoding: US-ASCII
      string: |
        <?xml version="1.0" encoding="UTF-8"?>
        <subscription href="https://api.recurly.com/v2/subscriptions/1b874a510411af9dd6913a46e8ac43bc">
          <account href="https://api.recurly.com/v2/accounts/company-id@recurly"/>
          <plan href="https://api.recurly.com/v2/plans/annual">
            <plan_code>annual</plan_code>
            <name>Activecell Annual</name>
          </plan>
          <uuid>1b874a510411af9dd6913a46e8ac43bc</uuid>
          <state>active</state>
          <unit_amount_in_cents type="integer">59988</unit_amount_in_cents>
          <currency>USD</currency>
          <quantity type="integer">1</quantity>
          <activated_at type="datetime">2012-09-30T18:45:11Z</activated_at>
          <canceled_at nil="nil"></canceled_at>
          <expires_at nil="nil"></expires_at>
          <total_billing_cycles nil="nil"></total_billing_cycles>
          <remaining_billing_cycles nil="nil"></remaining_billing_cycles>
          <current_period_started_at type="datetime">2012-09-30T18:45:11Z</current_period_started_at>
          <current_period_ends_at type="datetime">2012-10-30T18:45:11Z</current_period_ends_at>
          <trial_started_at type="datetime">2012-09-30T18:45:11Z</trial_started_at>
          <trial_ends_at type="datetime">2012-10-30T18:45:11Z</trial_ends_at>
          <subscription_add_ons type="array">
          </subscription_add_ons>
          <a name="cancel" href="https://api.recurly.com/v2/subscriptions/1b874a510411af9dd6913a46e8ac43bc/cancel" method="put"/>
          <a name="terminate" href="https://api.recurly.com/v2/subscriptions/1b874a510411af9dd6913a46e8ac43bc/terminate" method="put"/>
          <a name="postpone" href="https://api.recurly.com/v2/subscriptions/1b874a510411af9dd6913a46e8ac43bc/postpone" method="put"/>
        </subscription>

    http_version: 
  recorded_at: Sun, 30 Sep 2012 18:45:12 GMT
- request: 
    method: put
    uri: https://dd9e07b6afb84b0e8e31fefc56126c6e:@api.recurly.com/v2/subscriptions/1b874a29ca8514e0baa70141eba60aea
    body: 
      encoding: US-ASCII
      string: <subscription><timeframe>now</timeframe></subscription>
    headers: 
      Accept: 
      - application/xml
      User-Agent: 
      - Recurly/2.1.5; ruby 1.9.3p194 (2012-04-20 revision 35410) [x86_64-linux]
      Content-Type: 
      - application/xml
  response: 
    status: 
      code: 200
      message: OK
    headers: 
      Server: 
      - blackhole
      Date: 
      - Sun, 30 Sep 2012 18:45:19 GMT
      Content-Type: 
      - application/xml; charset=utf-8
      Transfer-Encoding: 
      - chunked
      Connection: 
      - close
      Content-Language: 
      - en-US
      Etag: 
      - "\"c9809b60c3d988f69b1f8189c10f9026\""
      Location: 
      - https://api.recurly.com/v2/subscriptions/1b874a29ca8514e0baa70141eba60aea
      Cache-Control: 
      - max-age=0, private, must-revalidate
      X-Runtime: 
      - "0.075224"
      Strict-Transport-Security: 
      - max-age=15768000
    body: 
      encoding: US-ASCII
      string: |
        <?xml version="1.0" encoding="UTF-8"?>
        <subscription href="https://api.recurly.com/v2/subscriptions/1b874a29ca8514e0baa70141eba60aea">
          <account href="https://api.recurly.com/v2/accounts/advisor-company-id@recurly"/>
          <plan href="https://api.recurly.com/v2/plans/annual">
            <plan_code>annual</plan_code>
            <name>Activecell Annual</name>
          </plan>
          <uuid>1b874a29ca8514e0baa70141eba60aea</uuid>
          <state>active</state>
          <unit_amount_in_cents type="integer">59988</unit_amount_in_cents>
          <currency>USD</currency>
          <quantity type="integer">1</quantity>
          <activated_at type="datetime">2012-09-30T18:45:01Z</activated_at>
          <canceled_at nil="nil"></canceled_at>
          <expires_at nil="nil"></expires_at>
          <total_billing_cycles nil="nil"></total_billing_cycles>
          <remaining_billing_cycles nil="nil"></remaining_billing_cycles>
          <current_period_started_at type="datetime">2012-09-30T18:45:01Z</current_period_started_at>
          <current_period_ends_at type="datetime">2012-10-30T19:45:01Z</current_period_ends_at>
          <trial_started_at type="datetime">2012-09-30T18:45:01Z</trial_started_at>
          <trial_ends_at type="datetime">2012-10-30T19:45:01Z</trial_ends_at>
          <subscription_add_ons type="array">
            <subscription_add_on>
              <add_on_code>advised_company</add_on_code>
              <unit_amount_in_cents type="integer">3999</unit_amount_in_cents>
              <quantity type="integer">1</quantity>
            </subscription_add_on>
          </subscription_add_ons>
          <a name="cancel" href="https://api.recurly.com/v2/subscriptions/1b874a29ca8514e0baa70141eba60aea/cancel" method="put"/>
          <a name="terminate" href="https://api.recurly.com/v2/subscriptions/1b874a29ca8514e0baa70141eba60aea/terminate" method="put"/>
          <a name="postpone" href="https://api.recurly.com/v2/subscriptions/1b874a29ca8514e0baa70141eba60aea/postpone" method="put"/>
        </subscription>

    http_version: 
  recorded_at: Sun, 30 Sep 2012 18:45:20 GMT
recorded_with: VCR 2.2.5
